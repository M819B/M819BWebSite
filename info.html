<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>@ d e k u u</title>
  <link rel="icon" type="image/png" href="dekuu-icon.png"/>
  <style>
    /* (Same styles as before for layout and responsiveness) */
    /* ... */
    .game-status {
      font-size: 18px;
      margin-top: 10px;
      color: #ccc;
    }
  </style>
  <script>
    let audio = new Audio('chill-music.mp3');
    audio.loop = true;
    let isPlaying = false;

    function toggleMusic() {
      isPlaying ? audio.pause() : audio.play();
      isPlaying = !isPlaying;
    }

    function setVolume(v) {
      audio.volume = v;
    }

    function typeText(el, text, speed, cb) {
      let i = 0; el.innerHTML = "";
      (function type() {
        if (i < text.length) {
          el.innerHTML += text.charAt(i++);
          setTimeout(type, speed);
        } else if (cb) cb();
      })();
    }

    async function updateDiscordStatus() {
      try {
        const res = await fetch("https://api.lanyard.rest/v1/users/726790429055385620");
        const json = await res.json();
        const data = json.data;
        let stat = "⚫ Offline";
        if (data.discord_status === 'online') stat = "🟢 Online";
        else if (data.discord_status === 'idle') stat = "🌙 Idle";
        else if (data.discord_status === 'dnd') stat = "⛔ Do Not Disturb";

        const act = data.activities.find(a => a.type === 0 || a.type === 2);
        const actText = act && act.details ? ` · ${act.name}: ${act.details}` : '';
        document.getElementById("game-status").textContent = `${stat}${actText}`;
      } catch (e) {
        console.error(e);
        document.getElementById("game-status").textContent = "⚠️ Status error";
      }
    }

    function enterSite() {
      document.querySelector(".click-to-enter").style.display = "none";
      document.querySelector(".main-content").style.display = "flex";
      audio.play(); isPlaying = true;
      typeText(document.getElementById("username"), "M819 Dekuu", 120, () => {
        updateDiscordStatus();
      });
    }
  </script>
</head>
<body>
  <video id="bg-video" autoplay muted loop playsinline>
    <source src="background.mp4" type="video/mp4">
  </video>

  <div class="click-to-enter" onclick="enterSite()">Click to Enter...</div>

  <div class="music-controls">
    <button class="music-toggle" onclick="toggleMusic()">Music On/Off</button>
    <input type="range" class="volume-slider" min="0" max="1" step="0.01" onchange="setVolume(this.value)" value="1"/>
  </div>

  <div class="main-content">
    <div class="profile-container">
      <img src="profile.png" class="profile-pic" alt="Profile"/>
      <div id="username" class="username"></div>
      <div class="info-box">Playing Minecraft all day.</div>
      <div id="game-status" class="info-box game-status"></div>
      <div class="icons">
        <!-- Your icons unchanged -->
      </div>
    </div>
  </div>
</body>
</html>
